# show many fmt bugs: run with `testscript -continue fmt-issues.txtar`
force-verbose
env CUEDO_FMT_DEBUGSTR=1
exec cue version

#
# issue #720 ----------------------------------------------


#
# issue #2567 ---------------------------------------------
# ---------------------------------------------------------
exec cat 2567-2.cue
exec cue vet 2567-2.cue
exec cue fmt 2567-2.cue   ### fmt misplaces the comment inside the brackets
exec cat 2567-2.cue
exec cue vet 2567-2.cue   ### vet fails

# ---------------------------------------------------------
exec cat 2567-21.cue
exec cue vet 2567-21.cue        ### vet passes
exec cue fmt 2567-21.cue        ### fmt fails
exec cat 2567-21.cue
exec cue vet 2567-21.cue        ### vet fails

# ---------------------------------------------------------
exec cat 2567-22.cue
exec cue vet 2567-22.cue
exec cue fmt 2567-22.cue        ### fmt passes
exec cat 2567-22.cue
exec cue vet 2567-22.cue        ### vet passes

#
# files ---------------------------------------------------


-- 2567-2.cue --
[
	if true // same line
	{}]
-- 2567-21.cue --
	if true
	// separate line
	{}]
-- 2567-22.cue --
[
	if true
	{}]
